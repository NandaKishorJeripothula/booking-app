var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,m=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;import{r as c,R as r,a as i}from"./vendor.15ab1fc7.js";const s=({onSubmit:e,onBackClick:i})=>{const[s,u]=c.exports.useState({name:"",email:"",mobile:""}),[p,d]=c.exports.useState({name:"",email:"",mobile:""}),b=e=>{const{name:c,value:r}=e.target;var i;u((i=((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&m(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&m(e,n,t[n]);return e})({},s),t(i,n({[c]:r}))))};return r.createElement("div",{className:"form-container"},r.createElement("h2",null,"Simple Form"),r.createElement("form",{onSubmit:t=>{t.preventDefault(),(()=>{let e=!0;const t={};return s.name||(t.name="Name is required",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email="Email is invalid",e=!1),/^[6-9]\d{9}$/.test(s.mobile)||(t.mobile="Mobile number is invalid",e=!1),d(t),e})()&&(console.log("Form Data:",s),e(s))}},r.createElement("div",{className:"form-group"},r.createElement("label",null,"Name:",r.createElement("input",{type:"text",name:"name",value:s.name,onChange:b})),p.name&&r.createElement("span",{className:"error"},p.name)),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Email:",r.createElement("input",{type:"email",name:"email",value:s.email,onChange:b})),p.email&&r.createElement("span",{className:"error"},p.email)),r.createElement("div",{className:"form-group"},r.createElement("label",null,"Mobile:",r.createElement("input",{type:"text",name:"mobile",value:s.mobile,onChange:b})),p.mobile&&r.createElement("span",{className:"error"},p.mobile)),r.createElement("div",{className:"button-group"},r.createElement("button",{type:"button",className:"other-button",onClick:i},"Back to Slots"),r.createElement("button",{type:"submit",className:"submit-button"},"Submit"))))};const u="a1",p="utm_campaign",d="utm_source",b="utm_content";const E=({data:e})=>{const{event_type_name:t,event_start_time:n,event_end_time:a,invitee_full_name:l}=e,o=new Date(n).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric"});const m=new Date(a).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return r.createElement("div",{className:"success-container"},r.createElement("span",{className:"success-icon"},"✔️"),r.createElement("div",{className:"success-header"},r.createElement("h2",null,"You slot booked succesfully!")),r.createElement("p",null,"A calendar invitation has been sent to your email address."),r.createElement("div",{className:"success-details"},r.createElement("h3",null,t),r.createElement("div",{className:"detail-item"},r.createElement("span",{className:"icon"},"👤"),r.createElement("span",null,l)),r.createElement("div",{className:"detail-item"},r.createElement("span",{className:"icon"},"📅"),r.createElement("span",null,`${o} - ${m}`)),r.createElement("div",{className:"detail-item"},r.createElement("span",{className:"icon"},"🌐"),r.createElement("span",null,"India Standard Time")),r.createElement("div",{className:"detail-item"},r.createElement("span",{className:"icon"},"💻"),r.createElement("span",null,"Web conferencing details to follow."))))},v={assigned_to:"Sender",event_type_uuid:"e2f3c774-bf63-4b97-ae8d-f1281aed5bff",event_type_name:"30 Minute Meeting",event_start_time:"2024-06-05T10:00:00+05:30",event_end_time:"2024-06-05T10:30:00+05:30",invitee_uuid:"ccb3f253-9eba-47a8-b788-5f0cb603230c",invitee_full_name:"testfullname",invitee_email:"test@test.com",answer_1:"contact: testcontact",utm_campaign:"30Min",utm_source:"booking-page",utm_content:"test-payment-id"};function g(){const[e,t]=c.exports.useState(null),[n,a]=c.exports.useState(null),[l,o]=c.exports.useState(),[m,i]=c.exports.useState(!1),g=a=>{const l={hide_gdpr_banner:1,hide_landing_page_details:1,hide_event_type_details:1,email:null==n?void 0:n.email,name:null==n?void 0:n.name,[u]:`contact: ${null==n?void 0:n.mobile}`,[b]:a.razorpay_payment_id,[p]:e,[d]:"booking-page"};t(null);var o;const m=`https://calendly.com/telugutarots/30min?${o=l,"?"+Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&")}`;location.href=m},_=e=>{console.log(e),o(e),t(null)};return c.exports.useEffect((()=>{const e=function(e){e||(e=location.search);const t=e.substring(1),n={};return t.split("&").forEach((function(e){const t=e.split("=");n[t[0]]=decodeURIComponent(t[1])})),n}(location.href);i(!!(Object.keys(e).length>2))}),[]),r.createElement("div",{className:"App"},m?r.createElement(E,{data:v}):e?r.createElement(s,{onSubmit:t=>{o(null);const{email:n,mobile:l,name:m}=t;a(t);(e=>{const t=new Razorpay(e);t.open(),t.on("payment.failed",_)})(((e,t,n,a,l)=>({key:"rzp_test_0wFRWIZnH65uny",amount:100*e,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",handler:t,prefill:{name:a,email:n,contact:l},retry:!1,notes:{category:`${e}-11223`},theme:{color:"#3399cc"}}))("30Min"===e?1:"60Min"===e?2:3,g,n,m,l))},onBackClick:()=>t(null)}):r.createElement(r.Fragment,null,r.createElement("div",{className:"booking-error"},l?JSON.stringify(l):""),r.createElement("div",{className:"button-group"},r.createElement("button",{onClick:()=>{t("30Min")}},"30Min"),r.createElement("button",{onClick:()=>{t("60Min")}},"60Min"),r.createElement("button",{onClick:()=>{t("90Min")}},"90Min"))))}i.render(r.createElement(r.StrictMode,null,r.createElement(g,null)),document.getElementById("root"));
