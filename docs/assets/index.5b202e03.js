var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,m=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&r(e,a,t[a]);return e},i=(e,l)=>t(e,a(l));import{r as s,R as c,u,I as d,a as p}from"./vendor.38b8e789.js";const y=({onSubmit:e,onBackClick:t})=>{const[a,l]=s.exports.useState({name:"",email:"",mobile:""}),[n,o]=s.exports.useState({name:"",email:"",mobile:""}),r=e=>{const{name:t,value:n}=e.target;l(i(m({},a),{[t]:n}))};return c.createElement("section",{className:"form-section"},c.createElement("h1",null,"Booking Form"),c.createElement("form",{onSubmit:t=>{t.preventDefault(),(()=>{let e=!0;const t={};return a.name||(t.name="Name is required",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(t.email="Email is invalid",e=!1),/^[6-9]\d{9}$/.test(a.mobile)||(t.mobile="Mobile number is invalid",e=!1),o(t),e})()&&(console.log("Form Data:",a),e(a))}},c.createElement("div",{className:"booking-form"},c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"name"},"Name"),c.createElement("input",{type:"text",id:"name",name:"name",value:a.name,onChange:r}),c.createElement("p",{className:"error"},n.name&&c.createElement("span",null,n.name))),c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"email"},"Email"),c.createElement("input",{type:"email",id:"email",name:"email",value:a.email,onChange:r}),c.createElement("p",{className:"error"},n.email)),c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"mobile"},"Mobile"),c.createElement("input",{type:"tel",id:"mobile",name:"mobile",value:a.mobile,onChange:r}),c.createElement("p",{className:"error"},n.mobile))),c.createElement("div",{className:"form-buttons booking-form"},c.createElement("button",{type:"button",className:"btn-back",onClick:t},"Back"),c.createElement("button",{type:"submit",className:"btn-proceed"},"Proceed"))))},E=()=>{const e=getComputedStyle(document.body);return{primaryColor:e.getPropertyValue("--primary-color"),secondaryColor:e.getPropertyValue("--secondary-color"),tertiaryColor:e.getPropertyValue("--tertiary-color"),textColor:e.getPropertyValue("--text-color"),whiteColor:e.getPropertyValue("--white")}};const v=({data:e})=>{const{eventStartTime:t,eventEndTime:a,inviteeName:l}=e,n=new Date(t).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric"});const o=new Date(a).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return c.createElement("div",{className:"success-container"},c.createElement("span",{className:"checkmark"}),c.createElement("div",{className:"success-header"},c.createElement("h2",null,"Booking succesful!")),c.createElement("p",null,"A calendar invitation has been sent to your email address."),c.createElement("div",{className:"success-details"},c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"👤"),c.createElement("span",null,l)),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"📅"),c.createElement("span",null,`${n} - ${o}`)),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"🌐"),c.createElement("span",null,"India Standard Time")),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"💻"),c.createElement("span",null,"Web conferencing details to follow."))))};var b=({slots:e,onClick:t})=>c.createElement("section",{className:"booking-section"},c.createElement("h1",null,"Book a Session"),c.createElement("div",{className:"booking-options"},e.map((e=>{const{displayPrice:a,mins:l}=e;return c.createElement("div",{className:"booking-option"},c.createElement("h2",null,"Book - ",l," Mins"),c.createElement("p",null,l," mins | ",a),c.createElement("button",{onClick:()=>t(e)},"BOOK NOW"))}))));const g=[{mins:5,displayPrice:"₹60",amoutInPaisa:6e3},{mins:10,displayPrice:"₹110",amoutInPaisa:11e3},{mins:15,displayPrice:"₹150",amoutInPaisa:15e3}];var f=e=>{u({onEventScheduled:t=>{e.onScheduleSuccess(t.data.payload)}});const{primaryColor:t,secondaryColor:a,tertiaryColor:l,textColor:n,whiteColor:o}=E();return c.createElement(d,{url:e.url,pageSettings:{hideGdprBanner:!0,hideEventTypeDetails:!0,hideLandingPageDetails:!0,backgroundColor:n,primaryColor:t,textColor:t},prefill:{email:e.inputPayload.email,name:e.inputPayload.name,customAnswers:{a1:`Contact: ${e.inputPayload.mobile} (Do not delete this). Please explain anything that would be useful before the connect!`}},utm:{utmContent:`PaymentId|${e.inputPayload.paymentId}`,utmSource:e.inputPayload.source,utmTerm:e.inputPayload.slot}})};function h(){var e,t,a,l,n,o,r,u,d,p;const[h,N]=s.exports.useState({}),[C,P]=s.exports.useState((()=>"scheduler")),S=(e,t)=>{N((a=>i(m({},a),{[e]:m(m({},a[e]||{}),t||{})})))},k=e=>{S("form",{payment:{success:e}}),P("scheduler")},w=e=>{S("form",{payment:{error:e}}),P("slots")},I=e=>{const t=new Razorpay(e);t.open(),t.on("payment.failed",w)};return c.createElement("div",{className:"App"},"slots"===C?c.createElement(c.Fragment,null,c.createElement("div",{className:"booking-error"},null==(a=null==(t=null==(e=null==h?void 0:h.form)?void 0:e.payment.error)?void 0:t.error)?void 0:a.description),c.createElement(b,{onClick:e=>{S("slots",{selectedSlot:e}),P("form")},slots:g})):"form"===C?c.createElement(y,{onSubmit:e=>{var t,a,l;if(!(null==(t=null==h?void 0:h.slots)?void 0:t.selectedSlot))return;S("form",{data:e,payment:{error:null,success:null}});const{email:n,mobile:o,name:r}=e,m=((e,t,a,l,n)=>{const{primaryColor:o,secondaryColor:r}=E();return{key:"rzp_test_0wFRWIZnH65uny",amount:e,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",handler:t,prefill:{name:l,email:a,contact:n},retry:!1,notes:{category:`${e}-11223`},theme:{color:o,ctaColor:o,ctaTextColor:r,backgroundColor:r,foregroundColor:o}}})(null==(l=null==(a=null==h?void 0:h.slots)?void 0:a.selectedSlot)?void 0:l.amoutInPaisa,k,n,r,o);I(m)},onBackClick:()=>{S("slots",{selectedSlot:null}),P("slots")}}):"scheduler"===C?c.createElement(f,{url:"https://calendly.com/telugutarots/30min",inputPayload:i(m({},(null==(l=null==h?void 0:h.form)?void 0:l.data)||{}),{paymentId:null==(r=null==(o=null==(n=null==h?void 0:h.form)?void 0:n.payment)?void 0:o.success)?void 0:r.razorpay_payment_id,slot:null==(d=null==(u=null==h?void 0:h.slots)?void 0:u.selectedSlot)?void 0:d.mins,source:"Website|Booking Section"}),onScheduleSuccess:()=>{P("event")}}):"event"===C?c.createElement(v,{data:{eventEndTime:"",eventStartTime:"",inviteeName:null==(p=null==h?void 0:h.form)?void 0:p.data.name}}):c.createElement("h4",null,"Reload The page"))}p.render(c.createElement(c.StrictMode,null,c.createElement(h,null)),document.getElementById("root"));
