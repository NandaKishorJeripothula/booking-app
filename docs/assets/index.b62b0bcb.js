var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;import{r as m,R as i,a as c}from"./vendor.15ab1fc7.js";const s=({onSubmit:e,onBackClick:c})=>{const[s,u]=m.exports.useState({name:"",email:"",mobile:""}),[d,p]=m.exports.useState({name:"",email:"",mobile:""}),b=e=>{const{name:m,value:i}=e.target;var c;u((c=((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&r(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&r(e,n,t[n]);return e})({},s),t(c,n({[m]:i}))))};return i.createElement("section",{className:"form-section"},i.createElement("h1",null,"Booking Form"),i.createElement("form",{onSubmit:t=>{t.preventDefault(),(()=>{let e=!0;const t={};return s.name||(t.name="Name is required",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email="Email is invalid",e=!1),/^[6-9]\d{9}$/.test(s.mobile)||(t.mobile="Mobile number is invalid",e=!1),p(t),e})()&&(console.log("Form Data:",s),e(s))}},i.createElement("div",{className:"booking-form"},i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"name"},"Name"),i.createElement("input",{type:"text",id:"name",name:"name",value:s.name,onChange:b}),i.createElement("p",{className:"error"},d.name&&i.createElement("span",null,d.name))),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"email"},"Email"),i.createElement("input",{type:"email",id:"email",name:"email",value:s.email,onChange:b}),i.createElement("p",{className:"error"},d.email)),i.createElement("div",{className:"form-field"},i.createElement("label",{htmlFor:"mobile"},"Mobile"),i.createElement("input",{type:"tel",id:"mobile",name:"mobile",value:s.mobile,onChange:b}),i.createElement("p",{className:"error"},d.mobile))),i.createElement("div",{className:"form-buttons booking-form"},i.createElement("button",{type:"button",className:"btn-back",onClick:c},"Back"),i.createElement("button",{type:"submit",className:"btn-proceed"},"Proceed"))))};const u="a1",d="utm_campaign",p="utm_source",b="utm_content";const E=({data:e})=>{const{event_type_name:t,event_start_time:n,event_end_time:a,invitee_full_name:l}=e,o=new Date(n).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric"});const r=new Date(a).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return i.createElement("div",{className:"success-container"},i.createElement("span",{className:"checkmark"}),i.createElement("div",{className:"success-header"},i.createElement("h2",null,"Booking succesful!")),i.createElement("p",null,"A calendar invitation has been sent to your email address."),i.createElement("div",{className:"success-details"},i.createElement("div",{className:"detail-item"},i.createElement("span",{className:"icon"},"👤"),i.createElement("span",null,l)),i.createElement("div",{className:"detail-item"},i.createElement("span",{className:"icon"},"📅"),i.createElement("span",null,`${o} - ${r}`)),i.createElement("div",{className:"detail-item"},i.createElement("span",{className:"icon"},"🌐"),i.createElement("span",null,"India Standard Time")),i.createElement("div",{className:"detail-item"},i.createElement("span",{className:"icon"},"💻"),i.createElement("span",null,"Web conferencing details to follow."))))};var v=({slots:e,onClick:t})=>i.createElement("section",{className:"booking-section"},i.createElement("h1",null,"Book a Session"),i.createElement("div",{className:"booking-options"},e.map((e=>{const{displayPrice:n,mins:a}=e;return i.createElement("div",{className:"booking-option"},i.createElement("h2",null,"Book - ",a," Mins"),i.createElement("p",null,a," mins | ",n),i.createElement("button",{onClick:()=>t(e)},"BOOK NOW"))}))));const g=[{mins:5,displayPrice:"₹60",amoutInPaisa:6e3},{mins:10,displayPrice:"₹110",amoutInPaisa:11e3},{mins:15,displayPrice:"₹150",amoutInPaisa:15e3}],f={assigned_to:"Sender",event_type_uuid:"e2f3c774-bf63-4b97-ae8d-f1281aed5bff",event_type_name:"30 Minute Meeting",event_start_time:"2024-06-05T10:00:00+05:30",event_end_time:"2024-06-05T10:30:00+05:30",invitee_uuid:"ccb3f253-9eba-47a8-b788-5f0cb603230c",invitee_full_name:"testfullname",invitee_email:"test@test.com",answer_1:"contact: testcontact",utm_campaign:"30Min",utm_source:"booking-page",utm_content:"test-payment-id"};function y(){var e;const[t,n]=m.exports.useState(null),[a,l]=m.exports.useState(null),[o,r]=m.exports.useState(),[c,y]=m.exports.useState(!1),_=e=>{const l={hide_gdpr_banner:1,hide_landing_page_details:1,hide_event_type_details:1,email:null==a?void 0:a.email,name:null==a?void 0:a.name,[u]:`contact: ${null==a?void 0:a.mobile}`,[b]:e.razorpay_payment_id,[d]:t,[p]:"booking-page"};n(null);var o;const r=`https://calendly.com/telugutarots/30min?${o=l,"?"+Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&")}`;location.href=r},N=e=>{console.log(e),r(e),n(null)};return m.exports.useEffect((()=>{const e=function(e){e||(e=location.search);const t=e.substring(1),n={};return t.split("&").forEach((function(e){const t=e.split("=");n[t[0]]=decodeURIComponent(t[1])})),n}(location.href);y(!!(Object.keys(e).length>2))}),[]),i.createElement("div",{className:"App"},c?i.createElement(E,{data:f}):t?i.createElement(s,{onSubmit:e=>{if(!t)return;r(null);const{email:n,mobile:a,name:o}=e;l(e);(e=>{const t=new Razorpay(e);t.open(),t.on("payment.failed",N)})(((e,t,n,a,l)=>{const o=getComputedStyle(document.body),r=o.getPropertyValue("--primary-color"),m=o.getPropertyValue("--secondary-color");return{key:"rzp_test_0wFRWIZnH65uny",amount:e,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",handler:t,prefill:{name:a,email:n,contact:l},retry:!1,notes:{category:`${e}-11223`},theme:{color:r,ctaColor:r,ctaTextColor:m,backgroundColor:m,foregroundColor:r}}})(null==t?void 0:t.amoutInPaisa,_,n,o,a))},onBackClick:()=>n(null)}):i.createElement(i.Fragment,null,i.createElement("div",{className:"booking-error"},null==(e=null==o?void 0:o.error)?void 0:e.description),i.createElement(v,{onClick:e=>{n(e)},slots:g})))}c.render(i.createElement(i.StrictMode,null,i.createElement(y,null)),document.getElementById("root"));
