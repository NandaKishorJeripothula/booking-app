var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,i=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&r(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&r(e,l,t[l]);return e},c=(e,a)=>t(e,l(a));import{r as s,R as m,u,I as d,a as p}from"./vendor.38b8e789.js";const y=[{mins:5,displayPrice:"â‚¹60",amoutInPaisa:6e3},{mins:10,displayPrice:"â‚¹110",amoutInPaisa:11e3},{mins:15,displayPrice:"â‚¹150",amoutInPaisa:15e3}],v=({onSubmit:e,onBackClick:t})=>{const[l,a]=s.exports.useState({name:"",email:"",mobile:"",privacyNotice:""}),[o,n]=s.exports.useState({name:"",email:"",mobile:"",privacyNotice:""}),r=e=>{const{name:t,value:o,checked:n,type:r}=e.target;a(c(i({},l),{[t]:"checkbox"===r?n?"agreed":"":o}))};return m.createElement("section",{className:"form-section"},m.createElement("h1",null,"Booking Form"),m.createElement("h4",null,"Please help us with the following information to schedule invite"),m.createElement("form",{onSubmit:t=>{t.preventDefault(),(()=>{let e=!0;const t={};return l.name||(t.name="Name is required",e=!1),l.privacyNotice||(t.privacyNotice="Please accept the terms & conditions",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(t.email="Email is invalid",e=!1),/^[6-9]\d{9}$/.test(l.mobile)||(t.mobile="Mobile number is invalid",e=!1),n(t),e})()&&(console.log("Form Data:",l),e(l))}},m.createElement("div",{className:"booking-form"},m.createElement("div",{className:"form-field"},m.createElement("label",{htmlFor:"name"},"Name"),m.createElement("input",{type:"text",id:"name",name:"name",value:l.name,onChange:r}),m.createElement("p",{className:"error"},o.name&&m.createElement("span",null,o.name))),m.createElement("div",{className:"form-field"},m.createElement("label",{htmlFor:"email"},"Email"),m.createElement("input",{type:"email",id:"email",name:"email",value:l.email,onChange:r}),m.createElement("p",{className:"error"},o.email)),m.createElement("div",{className:"form-field"},m.createElement("label",{htmlFor:"mobile"},"Mobile"),m.createElement("input",{type:"tel",id:"mobile",name:"mobile",value:l.mobile,onChange:r}),m.createElement("p",{className:"error"},o.mobile))),m.createElement("div",{className:"form-field"},m.createElement("label",{htmlFor:"privacyNotice",className:"checkboxLabel"},m.createElement("input",{type:"checkbox",id:"privacyNotice",name:"privacyNotice",value:l.mobile,onChange:r}),m.createElement("p",null,"By providing your email and mobile number, you consent to receive communications from us regarding updates and important notifications related to our services.Your contact information will be securely stored and will not be shared with third parties without your explicit consent.")),m.createElement("p",{className:"error"},o.privacyNotice)),m.createElement("div",{className:"form-buttons booking-form"},m.createElement("button",{type:"button",className:"btn-back",onClick:t},"Back"),m.createElement("button",{type:"submit",className:"btn-proceed"},"Proceed"))))},E=()=>{const e=getComputedStyle(document.body);return{primaryColor:e.getPropertyValue("--primary-color"),secondaryColor:e.getPropertyValue("--secondary-color"),tertiaryColor:e.getPropertyValue("--tertiary-color"),textColor:e.getPropertyValue("--text-color"),whiteColor:e.getPropertyValue("--white")}};const b=({data:e})=>{const{details:t,slot:l}=e;return m.createElement("div",{className:"success-container"},m.createElement("span",{className:"checkmark"}),m.createElement("div",{className:"success-header"},m.createElement("h2",null,"Booking succesful!")),m.createElement("p",null,"A calendar invitation has been sent to your email address."),m.createElement("div",{className:"success-details"},m.createElement("div",{className:"detail-item"},m.createElement("span",{className:"icon"},"ðŸ‘¤"),m.createElement("span",null,t.name)),m.createElement("div",{className:"detail-item"},m.createElement("span",{className:"icon"},"ðŸ“©"),m.createElement("span",null,t.email)),m.createElement("div",{className:"detail-item"},m.createElement("span",{className:"icon"},"ðŸ“ž"),m.createElement("span",null,t.mobile)),m.createElement("div",{className:"detail-item"},m.createElement("span",{className:"icon"},"â±ï¸"),m.createElement("span",null,`${l.mins} minutes`))))};var h=({slots:e,onClick:t})=>m.createElement("section",{className:"booking-section"},m.createElement("h1",null,"Book a Session"),m.createElement("div",{className:"booking-options"},e.map((e=>{const{displayPrice:l,mins:a}=e;return m.createElement("div",{className:"booking-option"},m.createElement("h2",null,"Book - ",a," Mins"),m.createElement("p",null,a," mins | ",l),m.createElement("button",{onClick:()=>t(e)},"BOOK NOW"))})))),f=e=>{u({onEventScheduled:t=>{e.onScheduleSuccess(t.data.payload)}});const{primaryColor:t,secondaryColor:l,tertiaryColor:a,textColor:o,whiteColor:n}=E();return m.createElement(d,{url:e.url,pageSettings:{hideGdprBanner:!0,hideEventTypeDetails:!0,hideLandingPageDetails:!0,backgroundColor:o,primaryColor:t,textColor:t},prefill:{email:e.inputPayload.email,name:e.inputPayload.name,customAnswers:{a1:`Contact: ${e.inputPayload.mobile} (Do not delete this). Please explain anything that would be useful before the connect!`}},utm:{utmContent:`PaymentId|${e.inputPayload.paymentId}`,utmSource:e.inputPayload.source,utmTerm:e.inputPayload.slot}})};function g(){var e,t,l,a,o,n,r,u,d,p,g;const[N,C]=s.exports.useState({}),[P,k]=s.exports.useState((()=>"slots")),S=(e,t)=>{C((l=>c(i({},l),{[e]:i(i({},l[e]||{}),t||{})})))},w=e=>{S("form",{payment:{success:e}}),k("scheduler")},x=e=>{S("form",{payment:{error:e}}),k("slots")},B=e=>{const t=new Razorpay(e);t.open(),t.on("payment.failed",x)};return m.createElement("div",{className:"App"},"slots"===P?m.createElement(m.Fragment,null,m.createElement("div",{className:"booking-error"},null==(l=null==(t=null==(e=null==N?void 0:N.form)?void 0:e.payment.error)?void 0:t.error)?void 0:l.description),m.createElement(h,{onClick:e=>{S("slots",{selectedSlot:e}),k("form")},slots:y})):"form"===P?m.createElement(v,{onSubmit:e=>{var t,l,a;if(!(null==(t=null==N?void 0:N.slots)?void 0:t.selectedSlot))return;S("form",{data:e,payment:{error:null,success:null}});const{email:o,mobile:n,name:r}=e,i=((e,t,l,a,o)=>{const{primaryColor:n,secondaryColor:r}=E();return{key:"rzp_test_0wFRWIZnH65uny",amount:e,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",handler:t,prefill:{name:a,email:l,contact:o},retry:!1,notes:{category:`${e}-11223`},theme:{color:n,ctaColor:n,ctaTextColor:r,backgroundColor:r,foregroundColor:n}}})(null==(a=null==(l=null==N?void 0:N.slots)?void 0:l.selectedSlot)?void 0:a.amoutInPaisa,w,o,r,n);B(i)},onBackClick:()=>{S("slots",{selectedSlot:null}),k("slots")}}):"scheduler"===P?m.createElement(f,{url:"https://calendly.com/telugutarots/30min",inputPayload:c(i({},(null==(a=null==N?void 0:N.form)?void 0:a.data)||{}),{paymentId:null==(r=null==(n=null==(o=null==N?void 0:N.form)?void 0:o.payment)?void 0:n.success)?void 0:r.razorpay_payment_id,slot:null==(d=null==(u=null==N?void 0:N.slots)?void 0:u.selectedSlot)?void 0:d.mins,source:"Website|Booking Section"}),onScheduleSuccess:()=>{k("event")}}):"event"===P?m.createElement(b,{data:{details:null==(p=null==N?void 0:N.form)?void 0:p.data,slot:null==(g=null==N?void 0:N.slots)?void 0:g.selectedSlot}}):m.createElement("h4",null,"Reload The page"))}p.render(m.createElement(m.StrictMode,null,m.createElement(g,null)),document.getElementById("root"));
