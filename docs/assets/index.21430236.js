var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,m=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;import{r as i,R as c,a as r}from"./vendor.15ab1fc7.js";const s=({onSubmit:e,onBackClick:r})=>{const[s,u]=i.exports.useState({name:"",email:"",mobile:""}),[d,p]=i.exports.useState({name:"",email:"",mobile:""}),b=e=>{const{name:i,value:c}=e.target;var r;u((r=((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&m(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&m(e,n,t[n]);return e})({},s),t(r,n({[i]:c}))))};return c.createElement("section",{className:"form-section"},c.createElement("h1",null,"Booking Form"),c.createElement("form",{onSubmit:t=>{t.preventDefault(),(()=>{let e=!0;const t={};return s.name||(t.name="Name is required",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email="Email is invalid",e=!1),/^[6-9]\d{9}$/.test(s.mobile)||(t.mobile="Mobile number is invalid",e=!1),p(t),e})()&&(console.log("Form Data:",s),e(s))}},c.createElement("div",{className:"booking-form"},c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"name"},"Name"),c.createElement("input",{type:"text",id:"name",name:"name",value:s.name,onChange:b}),c.createElement("p",{className:"error"},d.name&&c.createElement("span",null,d.name))),c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"email"},"Email"),c.createElement("input",{type:"email",id:"email",name:"email",value:s.email,onChange:b}),c.createElement("p",{className:"error"},d.email)),c.createElement("div",{className:"form-field"},c.createElement("label",{htmlFor:"mobile"},"Mobile"),c.createElement("input",{type:"tel",id:"mobile",name:"mobile",value:s.mobile,onChange:b}),c.createElement("p",{className:"error"},d.mobile))),c.createElement("div",{className:"form-buttons booking-form"},c.createElement("button",{type:"button",className:"btn-back",onClick:r},"Back"),c.createElement("button",{type:"submit",className:"btn-proceed"},"Proceed"))))};const u="a1",d="utm_campaign",p="utm_source",b="utm_content";const E=({data:e})=>{const{event_type_name:t,event_start_time:n,event_end_time:a,invitee_full_name:l}=e,o=new Date(n).toLocaleString("en-IN",{hour:"2-digit",minute:"2-digit",weekday:"long",year:"numeric",month:"long",day:"numeric"});const m=new Date(a).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return c.createElement("div",{className:"success-container"},c.createElement("span",{className:"checkmark"}),c.createElement("div",{className:"success-header"},c.createElement("h2",null,"Booking succesful!")),c.createElement("p",null,"A calendar invitation has been sent to your email address."),c.createElement("div",{className:"success-details"},c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"👤"),c.createElement("span",null,l)),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"📅"),c.createElement("span",null,`${o} - ${m}`)),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"🌐"),c.createElement("span",null,"India Standard Time")),c.createElement("div",{className:"detail-item"},c.createElement("span",{className:"icon"},"💻"),c.createElement("span",null,"Web conferencing details to follow."))))};var v=({slots:e,onClick:t})=>c.createElement("section",{className:"booking-section"},c.createElement("h1",null,"Book a Session"),c.createElement("div",{className:"booking-options"},e.map((e=>{const{displayPrice:n,mins:a}=e;return c.createElement("div",{className:"booking-option"},c.createElement("h2",null,"Book - ",a," Mins"),c.createElement("p",null,a," mins | ",n),c.createElement("button",{onClick:()=>t(e)},"BOOK NOW"))}))));const f=[{mins:5,displayPrice:"₹60",amoutInPaisa:6e3},{mins:10,displayPrice:"₹110",amoutInPaisa:11e3},{mins:15,displayPrice:"₹150",amoutInPaisa:15e3}],g={assigned_to:"Sender",event_type_uuid:"e2f3c774-bf63-4b97-ae8d-f1281aed5bff",event_type_name:"30 Minute Meeting",event_start_time:"2024-06-05T10:00:00+05:30",event_end_time:"2024-06-05T10:30:00+05:30",invitee_uuid:"ccb3f253-9eba-47a8-b788-5f0cb603230c",invitee_full_name:"testfullname",invitee_email:"test@test.com",answer_1:"contact: testcontact",utm_campaign:"30Min",utm_source:"booking-page",utm_content:"test-payment-id"};function _(){var e;const[t,n]=i.exports.useState(null),[a,l]=i.exports.useState(null),[o,m]=i.exports.useState(),[r,_]=i.exports.useState(!1),y=e=>{const l={hide_gdpr_banner:1,hide_landing_page_details:1,hide_event_type_details:1,email:null==a?void 0:a.email,name:null==a?void 0:a.name,[u]:`contact: ${null==a?void 0:a.mobile}`,[b]:e.razorpay_payment_id,[d]:t,[p]:"booking-page"};n(null);var o;const m=`https://calendly.com/telugutarots/30min?${o=l,"?"+Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&")}`;location.href=m},N=e=>{console.log(e),m(e),n(null)};return i.exports.useEffect((()=>{const e=function(e){e||(e=location.search);const t=e.substring(1),n={};return t.split("&").forEach((function(e){const t=e.split("=");n[t[0]]=decodeURIComponent(t[1])})),n}(location.href);_(!!(Object.keys(e).length>2))}),[]),c.createElement("div",{className:"App"},r?c.createElement(E,{data:g}):t?c.createElement(s,{onSubmit:e=>{if(!t)return;m(null);const{email:n,mobile:a,name:o}=e;l(e);(e=>{const t=new Razorpay(e);t.open(),t.on("payment.failed",N)})(((e,t,n,a,l)=>({key:"rzp_test_0wFRWIZnH65uny",amount:e,currency:"INR",name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",handler:t,prefill:{name:a,email:n,contact:l},retry:!1,notes:{category:`${e}-11223`},theme:{color:"#3399cc"}}))(null==t?void 0:t.amoutInPaisa,y,n,o,a))},onBackClick:()=>n(null)}):c.createElement(c.Fragment,null,c.createElement("div",{className:"booking-error"},null==(e=null==o?void 0:o.error)?void 0:e.description),c.createElement(v,{onClick:e=>{n(e)},slots:f})))}r.render(c.createElement(c.StrictMode,null,c.createElement(_,null)),document.getElementById("root"));
